<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Socket Service</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css">
    <link rel="stylesheet" href="style.min.css">
</head>
<body>
    <div class="container">
        <h1>Socket Service</h1>
        <h6>Easiest way to use websockets without backend setup.</h6>

        <hr>

        <p>SocketService provides a super small library (<1Kb) to let you connect to our websocket service, join a room for your app and emit your own events to all the sockets in your room.</p>

        <hr>

        <h5>HOW TO USE IT</h5>

        <p>First, include the SocketService library:</p>
        <pre><code>&lt;script src="https://socketservice.herokuapp.com/SocketService.min.js"&gt;&lt;/script&gt;</code></pre>

        <p>
            The SocketService library exposes a single global object <span class="code">SocketService</span> with a method to initialize it, accepting 2 parameters:<br>
            - the name of the room you want to join/create (String)<br>
            - a callback function with a socket a parameter
        </p>

<pre><code>SocketService.init( 'my-room', socket => {
    // do something with your socket
} )</code></pre>

    <p>
        The API for the socket is based on socket.io exposing an <span class="code">on</span> and an <span class="code">emit</span> method: <br>
        - the <span class="code">emit</span> method lets you emit an event with the name your choice + data as an object<br>
        - the <span class="code">on</span> method lets you handle your events
    </p>

<pre><code>SocketService.init( 'my-room', socket => {
    socket.on( 'test', data => console.log( data ) )
    socket.on( 'test2', data => console.log( data ) )

    socket.on( 'room-joined', room => {
        console.log( `socket joined ${ room }` )

        socket.emit( 'test', { msg: 'hello test1' } )
        socket.emit( 'test2', { msg: 'hello test2' } )
    } )
} )</code></pre>

    </div>

    <script src="/SocketService.min.js"></script>
    <script src="main.js"></script>
</body>
</html>
